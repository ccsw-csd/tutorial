


<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>Code: Desarrollo con Angular - Tutorial Springboot - Angular</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a2408e81.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/style.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#desarrollo-con-angular" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Cabecera">
    <a href="../.." title="Tutorial Springboot - Angular" class="md-header-nav__button md-logo" aria-label="Tutorial Springboot - Angular">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Tutorial Springboot - Angular
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Code: Desarrollo con Angular
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tutorial Springboot - Angular" class="md-nav__button md-logo" aria-label="Tutorial Springboot - Angular">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tutorial Springboot - Angular
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Bienvenido!" class="md-nav__link">
      Bienvenido!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../thanks/" title="Agradecimientos!" class="md-nav__link">
      Agradecimientos!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../usecases/" title="Contexto de la aplicación" class="md-nav__link">
      Contexto de la aplicación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../install/" title="Entorno de desarrollo" class="md-nav__link">
      Entorno de desarrollo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../create/" title="Creación de proyecto" class="md-nav__link">
      Creación de proyecto
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cleancode/" title="Estructura y Clean Code (TBD)" class="md-nav__link">
      Estructura y Clean Code (TBD)
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Code: Desarrollo con Angular
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Code: Desarrollo con Angular" class="md-nav__link md-nav__link--active">
      Code: Desarrollo con Angular
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primeros-pasos" class="md-nav__link">
    Primeros pasos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout-general" class="md-nav__link">
    Layout general
  </a>
  
    <nav class="md-nav" aria-label="Layout general">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-la-pantalla" class="md-nav__link">
    Código de la pantalla
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creando-un-listado-basico" class="md-nav__link">
    Creando un listado básico
  </a>
  
    <nav class="md-nav" aria-label="Creando un listado básico">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente_1" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-la-pantalla_1" class="md-nav__link">
    Código de la pantalla
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-datos" class="md-nav__link">
    Añadiendo datos
  </a>
  
    <nav class="md-nav" aria-label="Añadiendo datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-servicio" class="md-nav__link">
    Creando un servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementando-un-servicio" class="md-nav__link">
    Implementando un servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mockeando-datos" class="md-nav__link">
    Mockeando datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulando-las-otras-peticiones" class="md-nav__link">
    Simulando las otras peticiones
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-acciones-al-listado" class="md-nav__link">
    Añadiendo acciones al listado
  </a>
  
    <nav class="md-nav" aria-label="Añadiendo acciones al listado">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente_2" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-del-dialogo" class="md-nav__link">
    Código del dialogo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilizar-el-dialogo-para-editar" class="md-nav__link">
    Utilizar el dialogo para editar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accion-de-borrado" class="md-nav__link">
    Acción de borrado
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step2/" title="Code: Desarrollo con Springboot" class="md-nav__link">
      Code: Desarrollo con Springboot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step3/" title="Code: Conectar front con back" class="md-nav__link">
      Code: Conectar front con back
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step4/" title="Code: Listado paginado" class="md-nav__link">
      Code: Listado paginado
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step5/" title="Code: Listado filtrado" class="md-nav__link">
      Code: Listado filtrado
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step6/" title="Code: Validaciones (TBD)" class="md-nav__link">
      Code: Validaciones (TBD)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step7/" title="Code: Crear Login (TBD)" class="md-nav__link">
      Code: Crear Login (TBD)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../step8/" title="Code: Testing (TBD)" class="md-nav__link">
      Code: Testing (TBD)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../exercise/" title="Ahora hazlo tu!" class="md-nav__link">
      Ahora hazlo tu!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../appendix/styles/" title="Anexo. Estilos (TBD)" class="md-nav__link">
      Anexo. Estilos (TBD)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../appendix/dates/" title="Anexo. Fechas (TBD)" class="md-nav__link">
      Anexo. Fechas (TBD)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../appendix/git/" title="Anexo. Tutorial básico de Git (TBD)" class="md-nav__link">
      Anexo. Tutorial básico de Git (TBD)
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primeros-pasos" class="md-nav__link">
    Primeros pasos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout-general" class="md-nav__link">
    Layout general
  </a>
  
    <nav class="md-nav" aria-label="Layout general">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-la-pantalla" class="md-nav__link">
    Código de la pantalla
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creando-un-listado-basico" class="md-nav__link">
    Creando un listado básico
  </a>
  
    <nav class="md-nav" aria-label="Creando un listado básico">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente_1" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-la-pantalla_1" class="md-nav__link">
    Código de la pantalla
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-datos" class="md-nav__link">
    Añadiendo datos
  </a>
  
    <nav class="md-nav" aria-label="Añadiendo datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-servicio" class="md-nav__link">
    Creando un servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementando-un-servicio" class="md-nav__link">
    Implementando un servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mockeando-datos" class="md-nav__link">
    Mockeando datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulando-las-otras-peticiones" class="md-nav__link">
    Simulando las otras peticiones
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-acciones-al-listado" class="md-nav__link">
    Añadiendo acciones al listado
  </a>
  
    <nav class="md-nav" aria-label="Añadiendo acciones al listado">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-componente_2" class="md-nav__link">
    Crear componente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-del-dialogo" class="md-nav__link">
    Código del dialogo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilizar-el-dialogo-para-editar" class="md-nav__link">
    Utilizar el dialogo para editar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accion-de-borrado" class="md-nav__link">
    Acción de borrado
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="desarrollo-con-angular">Desarrollo con Angular</h1>
<p>Ahora que ya tenemos listo tanto el proyecto back de SpringBoot (en el puerto 8080) como el proyecto front de Angular (en el puerto 4200), ya podemos empezar a codificar la solución.</p>
<p>Durante todo el tutorial vamos a intentar separar completamente la implementación de front de la implementación de back, para que quede claro como se debe realizar en cada una de las tecnologías.</p>
<h2 id="primeros-pasos">Primeros pasos</h2>
<div class="admonition success">
<p class="admonition-title">Antes de empezar</p>
<p>Antes de empezar esta parte te recomendamos encarecidamente que hagas el tutorial que viene en la propia página de Angular, donde explican algunos de los conceptos básicos y generales de las aplicaciones. Te servirá mucho para conocer algunos de los aspectos y componentes que utilizamos durante este tutorial. Lo puedes visitar desde su web <a href="https://angular.io/tutorial">Tour of Heroes</a></p>
</div>
<p>Si abrimos el proyecto con el IDE que tengamos (Visual Studio Code en el caso del tutorial) podemos ver que en la carpeta <code>src/app</code> existen unos ficheros ya creados por defecto. Estos ficheros son:</p>
<ul>
<li><code>app.component.ts</code> → contiene el código inicial del proyecto escrito en TypeScript.</li>
<li><code>app.component.html</code> → contiene la plantilla inicial del proyecto escrita en HTML.</li>
<li><code>app.component.scss</code> → contiene los estilos CSS privados de la plantilla inicial.</li>
</ul>
<p>Vamos a modificar este código inicial para ver como funciona. Abrimos el fichero <code>app.component.ts</code> y modificamos la línea donde se asigna un valor a la variable <code>title</code>.</p>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">app.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;Tutorial de Angular + Springboot&#39;</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></div>

</div>
</div>
<p>Ahora abrimos el fichero <code>app.component.html</code>, borramos todo el código de la plantilla y añadimos el siguiente código:</p>
<div class="tabbed-set" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">app.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{title}}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</code></pre></div>

</div>
</div>
<p>Las llaves dobles permiten hacen un binding entre el código del componente y la plantilla. Es decir, en este caso irá al código TypeScript y buscará el valor de la variable <code>title</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Consejo</p>
<p>El binding también nos sirve para ejecutar los métodos de TypeScript desde el código HTML. Además si el valor que contiene la variable se modificara durante la ejecución de algún método, automáticamente el código HTML refrescaría el nuevo valor de la variable <code>title</code> </p>
</div>
<p>Si abrimos el navegador y accedemos a <code>http://localhost:4200/</code> podremos ver el resultado del código.</p>
<h2 id="layout-general">Layout general</h2>
<h3 id="crear-componente">Crear componente</h3>
<p>Lo primero que vamos a hacer es escoger un tema y una paleta de componentes para trabajar. Lo más cómodo es trabajar con <code>Material</code> que ya viene perfectamente integrado en Angular. Ejecutamos el comando y elegimos la paleta de colores que más nos guste o bien creamos una custom:</p>
<div class="highlight"><pre><span></span><code>ng add @angular/material
</code></pre></div>

<div class="admonition todo">
<p class="admonition-title">Recuerda</p>
<p>Al añadir una nueva librería tenemos que parar el servidor y volver a arrancarlo para que compile y precargue las nuevas dependencias.</p>
</div>
<p>Una vez añadida la dependencia, lo que queremos es crear una primera estructura inicial a la página. Si te acuerdas cual era la estructura (y si no te acuerdas, vuelve a la sección <code>Contexto de la aplicación</code> y lo revisas), teníamos una cabecera superior con un logo y título y unas opciones de menú.</p>
<p>Pues vamos a ello, crearemos esa estructura común para toda la aplicación. Este componente al ser algo core para toda la aplicación deberíamos crearlo dentro del módulo <code>core</code> como ya vimos anteriormente.</p>
<p>Pero antes de todo, vamos a crear los módulos generales de la aplicación, así que ejecutamos en consola el comando que nos permite crear un módulo nuevo:</p>
<div class="highlight"><pre><span></span><code>ng generate module shared
ng generate module core
ng generate module models
ng generate module services
ng generate module views
</code></pre></div>

<p>Y añadimos esos módulos al módulo padre de la aplicación:</p>
<div class="tabbed-set" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">app.module.ts</label><div class="tabbed-content"></div>
</div>
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRoutingModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./app-routing.module&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserAnimationsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser/animations&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SharedModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./shared/shared.module&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">CoreModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./core/core.module&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ModelsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./models/models.module&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ServicesModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./services/services.module&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ViewsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./views/views.module&#39;</span><span class="p">;</span>
</span>
<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">BrowserModule</span><span class="p">,</span>
    <span class="nx">AppRoutingModule</span><span class="p">,</span>
<span class="hll">    <span class="nx">SharedModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">CoreModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">ModelsModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">ServicesModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">ViewsModule</span><span class="p">,</span>
</span>    <span class="nx">BrowserAnimationsModule</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

<p>Y después crearemos el componente header, dentro del módulo core. Para eso ejecutaremos el comando:</p>
<div class="highlight"><pre><span></span><code>ng generate component core/header
</code></pre></div>

<h3 id="codigo-de-la-pantalla">Código de la pantalla</h3>
<p>Esto nos creará una carpeta con los ficheros del componente, donde tendremos que copiar el siguiente contenido:</p>
<div class="tabbed-set" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">header.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-toolbar-row</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_title&quot;</span><span class="p">&gt;</span>              
                <span class="p">&lt;</span><span class="nt">mat-icon</span><span class="p">&gt;</span>storefront<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span> Ludoteca Tan
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_separator&quot;</span><span class="p">&gt;</span> | <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_menu&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_button&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">routerLink</span><span class="o">=</span><span class="s">&quot;/games&quot;</span> <span class="na">routerLinkActive</span><span class="o">=</span><span class="s">&quot;active&quot;</span><span class="p">&gt;</span>Catálogo<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_button&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">routerLink</span><span class="o">=</span><span class="s">&quot;/categories&quot;</span> <span class="na">routerLinkActive</span><span class="o">=</span><span class="s">&quot;active&quot;</span><span class="p">&gt;</span>Categorías<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_button&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">routerLink</span><span class="o">=</span><span class="s">&quot;/authors&quot;</span> <span class="na">routerLinkActive</span><span class="o">=</span><span class="s">&quot;active&quot;</span><span class="p">&gt;</span>Autores<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header_login&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">mat-icon</span><span class="p">&gt;</span>account_circle<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span> Sign in
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-toolbar-row</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
</code></pre></div>

</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">header.component.scss</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">mat-toolbar</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="p">:</span> <span class="kc">blue</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header_container</span> <span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="err">.header_title</span> <span class="err">{</span>
        <span class="err">.mat-icon</span> <span class="err">{</span>
            <span class="k">vertical-align</span><span class="p">:</span> <span class="n">sub</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="err">}</span>

    <span class="p">.</span><span class="nc">header_separator</span> <span class="p">{</span>
        <span class="k">margin-left</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
        <span class="k">margin-right</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nc">header_menu</span> <span class="p">{</span>
        <span class="k">flex-grow</span><span class="p">:</span> <span class="mi">4</span><span class="p">;</span>
        <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
        <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>

        <span class="err">.header_button</span> <span class="err">{</span>
            <span class="k">margin-left</span><span class="p">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
            <span class="k">margin-right</span><span class="p">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
            <span class="k">font-size</span><span class="p">:</span> <span class="mi">16</span><span class="kt">px</span><span class="p">;</span>

            <span class="err">a</span> <span class="err">{</span>
              <span class="k">font-weight</span><span class="p">:</span> <span class="kc">lighter</span><span class="p">;</span>
              <span class="k">text-decoration</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
              <span class="k">cursor</span><span class="p">:</span> <span class="kc">pointer</span><span class="p">;</span>
              <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nt">a</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
              <span class="k">color</span><span class="p">:</span> <span class="kc">grey</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nt">a</span><span class="p">.</span><span class="nc">active</span> <span class="p">{</span>
              <span class="k">font-weight</span><span class="p">:</span> <span class="kc">normal</span><span class="p">;</span>
              <span class="k">text-decoration</span><span class="p">:</span> <span class="kc">underline</span><span class="p">;</span>
              <span class="k">color</span><span class="p">:</span> <span class="kc">lightyellow</span><span class="p">;</span>
            <span class="p">}</span>

        <span class="err">}</span>
    <span class="err">}</span>

    <span class="p">.</span><span class="nc">header_login</span> <span class="p">{</span>
      <span class="k">font-size</span><span class="p">:</span> <span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
      <span class="k">cursor</span><span class="p">:</span> <span class="kc">pointer</span><span class="p">;</span>
      <span class="err">.mat-icon</span> <span class="err">{</span>
          <span class="k">vertical-align</span><span class="p">:</span> <span class="n">sub</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

</div>
</div>
<p>Al utilizar etiquetas de material como <code>mat-toolbar</code> o <code>mat-icon</code> y <code>routerLink</code> necesitaremos importar las dependencias. Esto lo podemos hacer directamente en el módulo del que depende, es decir en el fichero <code>core.module.ts</code></p>
<div class="tabbed-set" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">core.module.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CommonModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/common&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatIconModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/icon&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatToolbarModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/toolbar&#39;</span><span class="p">;</span>
</span><span class="kr">import</span> <span class="p">{</span> <span class="nx">HeaderComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./header/header.component&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">RouterModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
</span>

<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span><span class="nx">HeaderComponent</span><span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">CommonModule</span><span class="p">,</span>
<span class="hll">    <span class="nx">RouterModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">MatIconModule</span><span class="p">,</span> 
</span><span class="hll">    <span class="nx">MatToolbarModule</span><span class="p">,</span>
</span>  <span class="p">],</span>
<span class="hll">  <span class="nx">exports</span><span class="o">:</span> <span class="p">[</span>
</span><span class="hll">    <span class="nx">HeaderComponent</span>
</span><span class="hll">  <span class="p">]</span>
</span><span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CoreModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Además de añadir las dependencias, diremos que este módulo va a exportar el componente <code>HeaderComponent</code> para poder utilizarlo desde otras páginas.</p>
<p>Ya por último solo nos queda modificar la página general de la aplicación <code>app.component.html</code> para añadirle el componente <code>HeaderComponent</code>.</p>
<div class="tabbed-set" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><label for="__tabbed_6_1">app.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="hll">  <span class="p">&lt;</span><span class="nt">app-header</span><span class="p">&gt;&lt;/</span><span class="nt">app-header</span><span class="p">&gt;</span>
</span>  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

</div>
</div>
<p>Vamos al navegador y refrescamos la página, debería aparecer una barra superior (Header) con las opciones de menú. Algo similar a esto:</p>
<p><img alt="step1-angular1" src="../../assets/images/step1-angular1.png" /></p>
<div class="admonition todo">
<p class="admonition-title">Recuerda</p>
<p>Cuando se añaden componentes a los ficheros <code>html</code>, siempre se deben utilizar los selectores definidos para el componente. En el caso anterior hemos añadido <code>app-header</code> que es el mismo nombre selector que tiene el componente en el fichero <code>header.component.ts</code>.
Además, recuerda que para poder utilizar componentes de otros módulos, los debes exportar ya que de lo contrario tan solo podrán utilizarse dentro del módulo donde se declaran.</p>
</div>
<h2 id="creando-un-listado-basico">Creando un listado básico</h2>
<h3 id="crear-componente_1">Crear componente</h3>
<p>Ya tenemos la estructura principal, ahora vamos a crear nuestra primera pantalla. Vamos a empezar por la de <code>Categorías</code> que es la más sencilla, ya que se trata de un listado, que muestra datos sin filtrar ni paginar.</p>
<p>Las pantallas deberían ir todas dentro del módulo <code>views</code> así que vamos a ejecutar el siguiente comando para crear la pantalla dentro de dicho módulo:</p>
<div class="highlight"><pre><span></span><code>ng generate component views/categories
</code></pre></div>

<p>Por último vamos a añadir la nueva ruta del componente dentro del routing, para ello modificamos el fichero <code>app-routing.module.ts</code></p>
<div class="tabbed-set" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><label for="__tabbed_7_1">app-routing.module.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">RouterModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">CategoriesComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./views/categories/categories.component&#39;</span><span class="p">;</span>
</span>
<span class="kr">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
<span class="hll">  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;categories&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">CategoriesComponent</span> <span class="p">},</span>
</span><span class="p">];</span>

<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">)],</span>
  <span class="nx">exports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppRoutingModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Si abrimos el navegador y accedemos a <code>http://localhost:4200/</code> podremos navegar mediante el menú <code>Categorías</code> el cual abrirá el componente que acabamos de crear.</p>
<h3 id="codigo-de-la-pantalla_1">Código de la pantalla</h3>
<p>Ahora vamos a construir la pantalla. Para manejar la información del listado, necesitamos almacenar los datos en un objeto de tipo <code>model</code>. Para ello crearemos un fichero en <code>models\categories\Category.ts</code> donde implementaremos la clase necesaria. Esta clase será la que utilizaremos en el código html y ts de nuestro componente.</p>
<div class="tabbed-set" data-tabs="8:4"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><label for="__tabbed_8_1">categories.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Listado de Categorías<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="hll">    <span class="p">&lt;</span><span class="nt">mat-table</span> <span class="err">[</span><span class="na">dataSource</span><span class="err">]=&quot;</span><span class="na">dataSource</span><span class="err">&quot;</span><span class="p">&gt;</span>
</span><span class="hll">        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
</span>            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;</span> Identificador <span class="p">&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span> {{element.id}} <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

<span class="hll">        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>
</span>            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;</span> Nombre categoría  <span class="p">&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span> {{element.name}} <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

<span class="hll">        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;action&quot;</span><span class="p">&gt;</span>
</span>            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;&lt;</span><span class="nt">mat-icon</span><span class="p">&gt;</span>edit<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;accent&quot;</span><span class="p">&gt;&lt;</span><span class="nt">mat-icon</span><span class="p">&gt;</span>clear<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

<span class="hll">        <span class="p">&lt;</span><span class="nt">mat-header-row</span> <span class="err">*</span><span class="na">matHeaderRowDef</span><span class="o">=</span><span class="s">&quot;displayedColumns; sticky: true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-header-row</span><span class="p">&gt;</span>
</span><span class="hll">        <span class="p">&lt;</span><span class="nt">mat-row</span> <span class="err">*</span><span class="na">matRowDef</span><span class="o">=</span><span class="s">&quot;let row; columns: displayedColumns;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-row</span><span class="p">&gt;</span>
</span>    <span class="p">&lt;/</span><span class="nt">mat-table</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;buttons&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-flat-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>Nueva categoría<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>   
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

</div>
<input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><label for="__tabbed_8_2">categories.component.scss</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">container</span> <span class="p">{</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>

  <span class="err">mat-table</span> <span class="err">{</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>

    <span class="err">.mat-header-row</span> <span class="err">{</span>
      <span class="k">background-color</span><span class="p">:</span><span class="mh">#f5f5f5</span><span class="p">;</span>

      <span class="err">.mat-header-cell</span> <span class="err">{</span>
        <span class="k">text-transform</span><span class="p">:</span> <span class="kc">uppercase</span><span class="p">;</span>
        <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
        <span class="k">color</span><span class="p">:</span> <span class="mh">#838383</span><span class="p">;</span>
      <span class="p">}</span>      
    <span class="err">}</span>

    <span class="p">.</span><span class="nc">mat-column-id</span> <span class="p">{</span>
      <span class="k">flex</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">20</span><span class="kt">%</span><span class="p">;</span>
      <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nc">mat-column-action</span> <span class="p">{</span>
      <span class="k">flex</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">%</span><span class="p">;</span>
      <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="err">}</span>

  <span class="p">.</span><span class="nc">buttons</span> <span class="p">{</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">right</span><span class="p">;</span>
  <span class="p">}</span>
<span class="err">}</span>
</code></pre></div>

</div>
<input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><label for="__tabbed_8_3">Category.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Category</span> <span class="p">{</span>
    <span class="nx">id</span>: <span class="kt">number</span><span class="p">;</span>
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</div>
<input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><label for="__tabbed_8_4">categories.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatTableDataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/table&#39;</span><span class="p">;</span>
</span>
<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-categories&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./categories.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./categories.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoriesComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

<span class="hll">  <span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MatTableDataSource</span><span class="o">&lt;</span><span class="nx">Category</span><span class="o">&gt;</span><span class="p">();</span>
</span><span class="hll">  <span class="nx">displayedColumns</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">];</span>
</span>
  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>El código HTML es fácil de seguir pero por si acaso:</p>
<ul>
<li>Línea 4: Creamos la tabla con la variable <code>dataSource</code> definida en el fichero .ts</li>
<li>Línea 5: Definición de la primera columna, su cabecera y el dato que va a contener</li>
<li>Línea 10: Definición de la segunda columna, su cabecera y el dato que va a contener</li>
<li>Línea 15: Definición de la tercera columna, su cabecera vacía y los dos botones de acción</li>
<li>Línea 23 y 24: Construcción de la cabecera y las filas</li>
</ul>
<p>Y ya por último, añadimos los componentes que se han utilizado de Angular Material a las dependencias del módulo donde está definido el componente en este caso <code>views\views.module.ts</code>:</p>
<div class="tabbed-set" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><label for="__tabbed_9_1">views.module.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CommonModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/common&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatTableModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/table&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatIconModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/icon&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatButtonModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/button&#39;</span><span class="p">;</span>
</span><span class="kr">import</span> <span class="p">{</span> <span class="nx">CategoriesComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./categories/categories.component&#39;</span><span class="p">;</span>

<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span><span class="nx">CategoriesComponent</span><span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">CommonModule</span><span class="p">,</span>
<span class="hll">    <span class="nx">MatTableModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">MatIconModule</span><span class="p">,</span> 
</span><span class="hll">    <span class="nx">MatButtonModule</span>
</span>  <span class="p">],</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ViewsModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Si abrimos el navegador y accedemos a <code>http://localhost:4200/</code> y pulsamos en el menú de <code>Categorías</code> obtendremos una pantalla con un listado vacío (solo con cabeceras) y un botón de crear Nueva Categoría.</p>
<h2 id="anadiendo-datos">Añadiendo datos</h2>
<p>En este punto y para ver como responde el listado, vamos a añadir datos. Si tuvieramos el backend implementado podríamos consultar los datos directamente de una operación de negocio de backend, pero ahora mismo no lo tenemos implementado así que para no bloquear el desarrollo vamos a mockear los datos.</p>
<h3 id="creando-un-servicio">Creando un servicio</h3>
<p>En angular, cualquier acceso a datos debe pasar por un <code>service</code>, así que vamos a crearnos uno para categorías. Vamos a la consola y ejecutamos:</p>
<div class="highlight"><pre><span></span><code>ng generate service services/categories/category
</code></pre></div>

<p>Esto nos creará un servicio y lo añadirá al módulo de <code>services.module.ts</code>. Además, este servicio es inyectable por defecto así que podemos utilizarlo inyectándolo en cualquier componente que lo necesite. </p>
<h3 id="implementando-un-servicio">Implementando un servicio</h3>
<p>Vamos a implementar una operación de negocio que recupere el listado de categorías y lo vamos a hacer de forma reactiva (asíncrona) para simular una petición a backend. Modificamos los siguientes ficheros:</p>
<div class="tabbed-set" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><label for="__tabbed_10_1">category.service.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>
</span>
<span class="kd">@Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoryService</span> <span class="p">{</span>

  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

<span class="hll">  <span class="nx">getCategories</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Category</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">new</span> <span class="nx">Observable</span><span class="p">();</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>

</div>
<input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><label for="__tabbed_10_2">categories.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatTableDataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/table&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">CategoryService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/services/categories/category.service&#39;</span><span class="p">;</span>
</span>
<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-categories&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./categories.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./categories.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoriesComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MatTableDataSource</span><span class="o">&lt;</span><span class="nx">Category</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="nx">displayedColumns</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">];</span>

  <span class="kr">constructor</span><span class="p">(</span>
<span class="hll">    <span class="kr">private</span> <span class="nx">categoryService</span>: <span class="kt">CategoryService</span><span class="p">,</span>
</span>  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">categoryService</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span>
</span><span class="hll">      <span class="nx">categories</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">categories</span>
</span><span class="hll">    <span class="p">);</span>
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</div>
</div>
<h3 id="mockeando-datos">Mockeando datos</h3>
<p>Como hemos comentado anteriormente, el backend todavía no está implementado así que vamos a mockear datos. Nos crearemos un fichero <code>mock-categories.ts</code> con datos ficticios y modificaremos el servicio para que devuelva esos datos. De esta forma, cuando tengamos implementada la operación de negocio en backend, tan solo tenemos que sustuir el código que devuelve datos estáticos por una llamada http.</p>
<div class="tabbed-set" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><label for="__tabbed_11_1">mock-categories.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">CATEGORY_DATA</span>: <span class="kt">Category</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Dados&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">2</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Fichas&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">3</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Cartas&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">4</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Rol&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">5</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Tableros&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">6</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Temáticos&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">7</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Europeos&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">8</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Guerra&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">9</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Abstractos&#39;</span> <span class="p">},</span>
<span class="p">]</span>    
</code></pre></div>

</div>
<input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><label for="__tabbed_11_2">category.service.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">CATEGORY_DATA</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mock-categories&#39;</span><span class="p">;</span>
</span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="k">of</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>
</span>
<span class="kd">@Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoryService</span> <span class="p">{</span>

  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">getCategories</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Category</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
<span class="hll">    <span class="k">return</span> <span class="k">of</span><span class="p">(</span><span class="nx">CATEGORY_DATA</span><span class="p">);</span>
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Si ahora refrescamos la página web, veremos que el listado ya tiene datos con los que vamos a interactuar.</p>
<p><img alt="step1-angular2" src="../../assets/images/step1-angular2.png" /></p>
<h3 id="simulando-las-otras-peticiones">Simulando las otras peticiones</h3>
<p>Para terminar, vamos a simular las otras dos peticiones, la de editar y la de borrar para cuando tengamos que utilizarlas. El servicio debe quedar más o menos así:</p>
<div class="tabbed-set" data-tabs="12:1"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><label for="__tabbed_12_1">category.service.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CATEGORY_DATA</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mock-categories&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="k">of</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>

<span class="kd">@Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoryService</span> <span class="p">{</span>

  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">getCategories</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Category</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">of</span><span class="p">(</span><span class="nx">CATEGORY_DATA</span><span class="p">);</span>
  <span class="p">}</span>

<span class="hll">  <span class="nx">saveCategory</span><span class="p">(</span><span class="nx">category</span>: <span class="kt">Category</span><span class="p">)</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Category</span><span class="o">&gt;</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">of</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span class="hll">  <span class="p">}</span>
</span>
<span class="hll">  <span class="nx">deleteCategory</span><span class="p">(</span><span class="nx">idCategory</span> : <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">of</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span class="hll">  <span class="p">}</span>  
</span><span class="p">}</span>
</code></pre></div>

</div>
</div>
<h2 id="anadiendo-acciones-al-listado">Añadiendo acciones al listado</h2>
<h3 id="crear-componente_2">Crear componente</h3>
<p>Ahora nos queda añadir las acciones al listado: crear, editar y eliminar. Empezaremos primero por las acciones de crear y editar, que ambas deberían abrir una ventana modal con un formulario para poder modificar datos de la entidad <code>Categoría</code>.
Como siempre, para crear un componente usamos el asistente de Angular, esta vez al tratarse de una pantalla que solo vamos a utilizar dentro del listado de categorías, tiene sentido que lo creemos dentro de ese directorio:</p>
<div class="highlight"><pre><span></span><code>ng generate component views/categories/category-dialog
</code></pre></div>

<p>Ahora vamos a hacer que se abra al pulsar el botón <code>Nueva categoría</code>. Para eso, vamos al fichero <code>views\categories\categories.component.ts</code> y añadimos un nuevo método:</p>
<div class="tabbed-set" data-tabs="13:1"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><label for="__tabbed_13_1">categories.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatDialog</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>
</span><span class="p">...</span>
  <span class="kr">constructor</span><span class="p">(</span>
    <span class="kr">private</span> <span class="nx">categoryService</span>: <span class="kt">CategoryService</span><span class="p">,</span>
<span class="hll">    <span class="kr">public</span> <span class="nx">dialog</span>: <span class="kt">MatDialog</span><span class="p">,</span>
</span>  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">...</span>
<span class="hll">  <span class="nx">createCategory() {</span>    
</span><span class="hll">    <span class="kr">const</span> <span class="nx">dialogRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">CategoryDialogComponent</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">      <span class="nx">data</span><span class="o">:</span> <span class="p">{}</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">
</span><span class="hll">    <span class="nx">dialogRef</span><span class="p">.</span><span class="nx">afterClosed</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">ngOnInit</span><span class="p">();</span>
</span><span class="hll">    <span class="p">});</span>    
</span><span class="hll">  <span class="p">}</span>  
</span><span class="p">...</span>
</code></pre></div>

</div>
</div>
<p>Para poder abrir un componente dentro de un dialogo necesitamos obtener en el constructor un MatDialog. De ahí que hayamos tenido que añadirlo como import y en el constructor.</p>
<p>Dentro del método <code>createCategory</code> lo que hacemos es crear un dialogo con el componente <code>CategoryDialogComponent</code> en su interior, pasarle unos datos de creación, donde podemos poner estilos del dialog y un objeto <code>data</code> donde pondremos los datos que queremos pasar entre los componentes. Por último, nos suscribimos al evento <code>afterClosed</code> para ejecutar las acciones que creamos oportunas, en nuestro caso volveremos a cargar el listado inicial.</p>
<p>Como hemos utilizado un <code>MatDialog</code> en el componente, necesitamos añadirlo también al módulo, así que abrimos el fichero <code>views.module.ts</code> y añadimos:</p>
<div class="tabbed-set" data-tabs="14:1"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><label for="__tabbed_14_1">views.module.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MAT_DIALOG_DATA</span><span class="p">,</span> <span class="nx">MatDialogModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>
</span>
<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span><span class="nx">CategoriesComponent</span><span class="p">,</span> <span class="nx">CategoryDialogComponent</span><span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">...</span>
<span class="hll">    <span class="nx">MatDialogModule</span>
</span>  <span class="p">],</span>
<span class="hll">  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">      <span class="nx">provide</span>: <span class="kt">MAT_DIALOG_DATA</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">useValue</span><span class="o">:</span> <span class="p">{},</span>
</span><span class="hll">    <span class="p">},</span>
</span><span class="hll">  <span class="p">]</span>
</span><span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ViewsModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Y ya por último enlazamos el click en el botón con el método que acabamos de crear para abrir el dialogo. Modificamos el fichero <code>views\categories\categories.component.html</code> y añadimos el evento click:</p>
<div class="tabbed-set" data-tabs="15:1"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><label for="__tabbed_15_1">categories.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">...</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;buttons&quot;</span><span class="o">&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">mat</span><span class="o">-</span><span class="nx">flat</span><span class="o">-</span><span class="nx">button</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span> <span class="p">(</span><span class="nx">click</span><span class="p">)</span><span class="o">=</span><span class="s2">&quot;createCategory()&quot;</span><span class="o">&gt;</span><span class="nx">Nueva</span> <span class="nx">categoría</span><span class="o">&lt;</span><span class="err">/button&gt; </span>
</span>    <span class="o">&lt;</span><span class="err">/div&gt;   </span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div>

</div>
</div>
<p>Si refrescamos el navegador y pulsamos el botón <code>Nueva categoría</code> veremos como se abre una ventana modal de tipo Dialog con el componente nuevo que hemos creado. </p>
<h3 id="codigo-del-dialogo">Código del dialogo</h3>
<p>Ahora vamos a darle forma al formulario de editar y crear. Para ello vamos al html, ts y css del componente y pegamos el siguiente contenido:</p>
<div class="tabbed-set" data-tabs="16:3"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><label for="__tabbed_16_1">category-dialog.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Crear categoría<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-label</span><span class="p">&gt;</span>Identificador<span class="p">&lt;/</span><span class="nt">mat-label</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">matInput</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Identificador&quot;</span> <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]=&quot;</span><span class="na">category</span><span class="err">.</span><span class="na">id</span><span class="err">&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;id&quot;</span> <span class="na">disabled</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-label</span><span class="p">&gt;</span>Nombre<span class="p">&lt;/</span><span class="nt">mat-label</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">matInput</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Nombre de categoría&quot;</span> <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]=&quot;</span><span class="na">category</span><span class="err">.</span><span class="na">name</span><span class="err">&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">required</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-error</span><span class="p">&gt;</span>El nombre no puede estar vacío<span class="p">&lt;/</span><span class="nt">mat-error</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;buttons&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-stroked-button</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">onClose</span><span class="err">()&quot;</span><span class="p">&gt;</span>Cerrar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-flat-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">onSave</span><span class="err">()&quot;</span><span class="p">&gt;</span>Guardar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

</div>
<input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><label for="__tabbed_16_2">category-dialog.component.scss</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">container</span> <span class="p">{</span>
    <span class="k">min-width</span><span class="p">:</span> <span class="mi">350</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">max-width</span><span class="p">:</span> <span class="mi">500</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>

    <span class="err">form</span> <span class="err">{</span>
        <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
        <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
        <span class="k">margin-bottom</span><span class="p">:</span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nc">buttons</span> <span class="p">{</span>
      <span class="k">text-align</span><span class="p">:</span> <span class="kc">right</span><span class="p">;</span>

      <span class="err">button</span> <span class="err">{</span>
          <span class="k">margin-left</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

</div>
<input id="__tabbed_16_3" name="__tabbed_16" type="radio" /><label for="__tabbed_16_3">category-dialog.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Inject</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatDialogRef</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CategoryService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/services/categories/category.service&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-category-dialog&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./category-dialog.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./category-dialog.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoryDialogComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">category</span> : <span class="kt">Category</span><span class="p">;</span>

  <span class="kr">constructor</span><span class="p">(</span>
    <span class="kr">public</span> <span class="nx">dialogRef</span>: <span class="kt">MatDialogRef</span><span class="o">&lt;</span><span class="nx">CategoryDialogComponent</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="kr">private</span> <span class="nx">categoryService</span>: <span class="kt">CategoryService</span>
  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Category</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">onSave() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">categoryService</span><span class="p">.</span><span class="nx">saveCategory</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">category</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>    
  <span class="p">}</span>  

  <span class="nx">onClose() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Si te fijas en el código TypeScript, hemos añadido en el método <code>onSave</code> una llamada al servicio de <code>Category</code> que aunque no realice ninguna operación, por lo menos lo dejamos preparado para conectar con el servidor.</p>
<p>Además, como siempre, al utilizar componentes <code>matInput</code>, <code>matForm</code>, <code>matError</code> hay que añadirlos como dependencias en el módulo <code>views.module.ts</code>:</p>
<div class="tabbed-set" data-tabs="17:1"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><label for="__tabbed_17_1">views.module.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MAT_DIALOG_DATA</span><span class="p">,</span> <span class="nx">MatDialogModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatFormFieldModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/form-field&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatInputModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/input&#39;</span><span class="p">;</span>
</span><span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">FormsModule</span><span class="p">,</span> <span class="nx">ReactiveFormsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
</span>
<span class="kd">@NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span><span class="nx">CategoriesComponent</span><span class="p">,</span> <span class="nx">CategoryDialogComponent</span><span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">...</span>
    <span class="nx">MatDialogModule</span><span class="p">,</span>
<span class="hll">    <span class="nx">MatFormFieldModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">MatInputModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">FormsModule</span><span class="p">,</span>
</span><span class="hll">    <span class="nx">ReactiveFormsModule</span><span class="p">,</span>
</span>  <span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nx">provide</span>: <span class="kt">MAT_DIALOG_DATA</span><span class="p">,</span>
      <span class="nx">useValue</span><span class="o">:</span> <span class="p">{},</span>
    <span class="p">},</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ViewsModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Ahora podemos navegar y abrir el cuadro de dialogo mediante el botón <code>Nueva categoría</code> para ver como queda nuestro formulario.</p>
<h3 id="utilizar-el-dialogo-para-editar">Utilizar el dialogo para editar</h3>
<p>El mismo componente que hemos utilizado para crear una nueva categoría, nos sirve también para editar una categoría existente. Tan solo tenemos que utilizar la funcionalidad que Angular nos proporciona y pasarle los datos a editar en la llamada de apertura del Dialog.
Vamos a implementar funcionalidad sobre el icono <code>editar</code>, tendremos que modificar unos cuantos ficheros:</p>
<div class="tabbed-set" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><label for="__tabbed_18_1">categories.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Listado de Categorías<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">mat-table</span> <span class="err">[</span><span class="na">dataSource</span><span class="err">]=&quot;</span><span class="na">dataSource</span><span class="err">&quot;</span><span class="p">&gt;</span> 
        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;</span> Identificador <span class="p">&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span> {{element.id}} <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;</span> Nombre categoría  <span class="p">&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span> {{element.name}} <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;action&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span>
<span class="hll">                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>
</span><span class="hll">                    <span class="p">&lt;</span><span class="nt">mat-icon</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">editCategory</span><span class="err">(</span><span class="na">element</span><span class="err">)&quot;</span><span class="p">&gt;</span>edit<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span>
</span><span class="hll">                <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span>                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;accent&quot;</span><span class="p">&gt;&lt;</span><span class="nt">mat-icon</span><span class="p">&gt;</span>clear<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">mat-header-row</span> <span class="err">*</span><span class="na">matHeaderRowDef</span><span class="o">=</span><span class="s">&quot;displayedColumns; sticky: true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-header-row</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-row</span> <span class="err">*</span><span class="na">matRowDef</span><span class="o">=</span><span class="s">&quot;let row; columns: displayedColumns;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-row</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-table</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;buttons&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-flat-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">createCategory</span><span class="err">()&quot;</span><span class="p">&gt;</span>Nueva categoría<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span> 
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>   
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

</div>
<input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><label for="__tabbed_18_2">categories.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoriesComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MatTableDataSource</span><span class="o">&lt;</span><span class="nx">Category</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="nx">displayedColumns</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">];</span>

  <span class="kr">constructor</span><span class="p">(</span>
    <span class="kr">private</span> <span class="nx">categoryService</span>: <span class="kt">CategoryService</span><span class="p">,</span>
    <span class="kr">public</span> <span class="nx">dialog</span>: <span class="kt">MatDialog</span><span class="p">,</span>
  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">categoryService</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span>
      <span class="nx">categories</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">categories</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">createCategory() {</span>    
    <span class="kr">const</span> <span class="nx">dialogRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">CategoryDialogComponent</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">});</span>

    <span class="nx">dialogRef</span><span class="p">.</span><span class="nx">afterClosed</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">ngOnInit</span><span class="p">();</span>
    <span class="p">});</span>    
  <span class="p">}</span>  

<span class="hll">  <span class="nx">editCategory</span><span class="p">(</span><span class="nx">category</span>: <span class="kt">Category</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="kr">const</span> <span class="nx">dialogRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">CategoryDialogComponent</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">      <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">category</span>: <span class="kt">category</span> <span class="p">}</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">
</span><span class="hll">    <span class="nx">dialogRef</span><span class="p">.</span><span class="nx">afterClosed</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">ngOnInit</span><span class="p">();</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Y los Dialog:</p>
<div class="tabbed-set" data-tabs="19:2"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><label for="__tabbed_19_1">category-dialog.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;container&quot;</span><span class="o">&gt;</span>
<span class="hll">    <span class="o">&lt;</span><span class="nx">h1</span> <span class="o">*</span><span class="nx">ngIf</span><span class="o">=</span><span class="s2">&quot;category.id == null&quot;</span><span class="o">&gt;</span><span class="nx">Crear</span> <span class="nx">categoría</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="hll">    <span class="o">&lt;</span><span class="nx">h1</span> <span class="o">*</span><span class="nx">ngIf</span><span class="o">=</span><span class="s2">&quot;category.id != null&quot;</span><span class="o">&gt;</span><span class="nx">Modificar</span> <span class="nx">categoría</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span>
    <span class="o">&lt;</span><span class="nx">form</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">mat</span><span class="o">-</span><span class="nx">form</span><span class="o">-</span><span class="nx">field</span><span class="o">&gt;</span>
<span class="p">...</span>
</code></pre></div>

</div>
<input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><label for="__tabbed_19_2">category-dialog.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Inject</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Category</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/models/categories/Category&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">MatDialogRef</span><span class="p">,</span> <span class="nx">MAT_DIALOG_DATA</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>
</span><span class="kr">import</span> <span class="p">{</span> <span class="nx">CategoryService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;src/app/services/categories/category.service&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-category-dialog&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./category-dialog.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./category-dialog.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CategoryDialogComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">category</span> : <span class="kt">Category</span><span class="p">;</span>

  <span class="kr">constructor</span><span class="p">(</span>
    <span class="kr">public</span> <span class="nx">dialogRef</span>: <span class="kt">MatDialogRef</span><span class="o">&lt;</span><span class="nx">CategoryDialogComponent</span><span class="o">&gt;</span><span class="p">,</span>
<span class="hll">    <span class="kd">@Inject</span><span class="p">(</span><span class="nx">MAT_DIALOG_DATA</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">data</span>: <span class="kt">any</span><span class="p">,</span>
</span>    <span class="kr">private</span> <span class="nx">categoryService</span>: <span class="kt">CategoryService</span>
  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
<span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">category</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">category</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="k">else</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Category</span><span class="p">();</span>
</span><span class="hll">    <span class="p">}</span>
</span>  <span class="p">}</span>

  <span class="nx">onSave() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">categoryService</span><span class="p">.</span><span class="nx">saveCategory</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">category</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>    
  <span class="p">}</span>  

  <span class="nx">onClose() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Navegando ahora por la página y pulsando en el icono de editar, se debería abrir una ventana con los datos que hemos seleccionado, similar a esta imagen:</p>
<p><img alt="step1-angular3" src="../../assets/images/step1-angular3.png" /></p>
<p>Si te fijas, al modificar los datos dentro de la ventana de diálogo se modifica también en el listado. Esto es porque estamos pasando el mismo objeto desde el listado a la ventana dialogo y al ser el listado y el formulario reactivos los dos, cualquier cambio sobre los datos se refresca directamente en la pantalla. </p>
<p>Hay veces en la que este comportamiento nos interesa, pero en este caso no queremos que se modifique el listado. Para solucionarlo debemos hacer una copia del objeto, para que ambos modelos (formulario y listado) utilicen objetos diferentes. Es tan sencillo como modificar <code>category-dialog.component.ts</code> y añadirle una copia del dato</p>
<div class="tabbed-set" data-tabs="20:1"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><label for="__tabbed_20_1">category-dialog.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>    <span class="p">...</span>
    <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">category</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">category</span><span class="p">);</span>
</span>      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Category</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">...</span>
</code></pre></div>

</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Cuidado</p>
<p>Hay que tener mucho cuidado con el binding de los objetos. Hay veces que al modificar un objeto NO queremos que se modifique en todas sus instancias y tenemos que poner especial cuidado en esos aspectos.</p>
</div>
<h3 id="accion-de-borrado">Acción de borrado</h3>
<p>Por norma general, toda acción de borrado de un dato de pantalla requiere una confirmación previa por parte del usuario. Es decir, para evitar que el dato se borre accidentalmente el usuario tendrá que confirmar su acción. Por tanto vamos a crear un componente que nos permita pedir una confirmación al usuario.</p>
<p>Como esta pantalla de confirmación va a ser algo común a muchas acciones de borrado de nuestra aplicación, vamos a crearla dentro del módulo <code>shared</code>. Como siempre, ejecutamos el comando en consola:</p>
<div class="highlight"><pre><span></span><code>ng generate component shared/dialog-confirmation/dialog-confirmation
</code></pre></div>

<p>E implementamos el código que queremos que tenga el componente. Al ser un componente genérico vamos a aprovechar y leeremos las variables que le pasemos en <code>data</code>.</p>
<div class="tabbed-set" data-tabs="21:3"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><label for="__tabbed_21_1">dialog-confirmation.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{title}}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="err">[</span><span class="na">innerHTML</span><span class="err">]=&quot;</span><span class="na">description</span><span class="err">&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;description&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;buttons&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-stroked-button</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">onNo</span><span class="err">()&quot;</span><span class="p">&gt;</span>No<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-flat-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">onYes</span><span class="err">()&quot;</span><span class="p">&gt;</span>Sí<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>    
</code></pre></div>

</div>
<input id="__tabbed_21_2" name="__tabbed_21" type="radio" /><label for="__tabbed_21_2">dialog-confirmation.component.scss</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">container</span> <span class="p">{</span>
    <span class="k">min-width</span><span class="p">:</span> <span class="mi">350</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">max-width</span><span class="p">:</span> <span class="mi">500</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>

    <span class="err">.description</span> <span class="err">{</span>
      <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nc">buttons</span> <span class="p">{</span>
      <span class="k">text-align</span><span class="p">:</span> <span class="kc">right</span><span class="p">;</span>

      <span class="err">button</span> <span class="err">{</span>
          <span class="k">margin-left</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>    
</code></pre></div>

</div>
<input id="__tabbed_21_3" name="__tabbed_21" type="radio" /><label for="__tabbed_21_3">dialog-confirmation.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Inject</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatDialogRef</span><span class="p">,</span> <span class="nx">MAT_DIALOG_DATA</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/dialog&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-dialog-confirmation&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./dialog-confirmation.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./dialog-confirmation.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DialogConfirmationComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">title</span> : <span class="kt">string</span><span class="p">;</span>
  <span class="nx">description</span> : <span class="kt">string</span><span class="p">;</span>

  <span class="kr">constructor</span><span class="p">(</span>
    <span class="kr">public</span> <span class="nx">dialogRef</span>: <span class="kt">MatDialogRef</span><span class="o">&lt;</span><span class="nx">DialogConfirmationComponent</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="kd">@Inject</span><span class="p">(</span><span class="nx">MAT_DIALOG_DATA</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">data</span>: <span class="kt">any</span>
  <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">onYes() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">onNo() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dialogRef</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</div>
</div>
<div class="admonition info">
<p class="admonition-title">Recuerda</p>
<p>Recuerda que los componentes utilizados en el diálogo de confirmación se deben añadir al módulo padre al que pertenecen, en este caso a <code>shared.module.ts</code>
<div class="highlight"><pre><span></span><code>imports: [
  CommonModule,
  MatDialogModule,
  MatIconModule, 
  MatButtonModule,
],
providers: [
  {
    provide: MAT_DIALOG_DATA,
    useValue: {},
  },
]
</code></pre></div></p>
</div>
<p>Ya por último, una vez tenemos el componente genérico de dialogo, vamos a utilizarlo en nuestro listado al pulsar el botón eliminar:</p>
<div class="tabbed-set" data-tabs="22:2"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><label for="__tabbed_22_1">categories.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>    ...
    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;action&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span><span class="p">&gt;&lt;/</span><span class="nt">mat-header-cell</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let element&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">mat-icon</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">editCategory</span><span class="err">(</span><span class="na">element</span><span class="err">)&quot;</span><span class="p">&gt;</span>edit<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-icon-button</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;accent&quot;</span><span class="p">&gt;</span>
<span class="hll">                <span class="p">&lt;</span><span class="nt">mat-icon</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">deleteCategory</span><span class="err">(</span><span class="na">element</span><span class="err">)&quot;</span><span class="p">&gt;</span>clear<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span>
</span>            <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">mat-cell</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
    ...
</code></pre></div>

</div>
<input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><label for="__tabbed_22_2">categories.component.ts</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>  <span class="p">...</span>
<span class="hll">  <span class="nx">deleteCategory</span><span class="p">(</span><span class="nx">category</span>: <span class="kt">Category</span><span class="p">)</span> <span class="p">{</span>    
</span><span class="hll">    <span class="kr">const</span> <span class="nx">dialogRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">DialogConfirmationComponent</span><span class="p">,</span> <span class="p">{</span>
</span><span class="hll">      <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Eliminar categoría&quot;</span><span class="p">,</span> <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;Atención si borra la categoría se perderán sus datos.&lt;br&gt; ¿Desea eliminar la categoría?&quot;</span> <span class="p">}</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">
</span><span class="hll">    <span class="nx">dialogRef</span><span class="p">.</span><span class="nx">afterClosed</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">categoryService</span><span class="p">.</span><span class="nx">deleteCategory</span><span class="p">(</span><span class="nx">category</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="hll">          <span class="k">this</span><span class="p">.</span><span class="nx">ngOnInit</span><span class="p">();</span>
</span><span class="hll">        <span class="p">});</span> 
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">  <span class="p">}</span>  
</span><span class="p">}</span>
</code></pre></div>

</div>
</div>
<p>Aquí también hemos realizado la llamada a <code>categoryService</code>, aunque no se realice ninguna acción, pero así lo dejamos listo para enlazarlo.</p>
<p>Llegados a este punto, ya solo nos queda enlazar las acciones de la pantalla con las operaciones de negocio del backend. Pero eso lo dejaremos para más adelante, primero hay que implementar las operaciones, en la siguiente sección.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Pie">
        
          <a href="../../cleancode/" title="Estructura y Clean Code (TBD)" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Estructura y Clean Code (TBD)
              </div>
            </div>
          </a>
        
        
          <a href="../step2/" title="Code: Desarrollo con Springboot" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Code: Desarrollo con Springboot
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>